# SimTradeData 架构白皮书 (单一事实来源)

**郑重声明**: 本文档是 SimTradeData 项目的架构“宪法”。它旨在成为未来所有开发工作的唯一、权威的指导原则，确保项目在演进过程中保持一致性、可维护性和清晰的设计哲学。除非文件结构或者设计真实发生改变，这个文档不可以随意修改更新。Ptrade API在docs/PTrade_API_mini_Reference.md读取。

---

## 第一章：SimTradeData 顶层设计

本章旨在阐述 `SimTradeData` 作为一个完整框架的宏观设计，它将作为理解后续所有具体实现（包括文件结构和 PTrade 适配器）的理论基础。


## 🏗️ 系统架构总览

### 分层架构设计

```
┌─────────────────────────────────────────────────────────────┐
│                    用户接口层 (Interface Layer)                │
├─────────────────────────────────────────────────────────────┤
│  PTrade适配器  │  REST API  │  WebSocket  │  API网关        │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                    业务逻辑层 (Business Layer)                │
├─────────────────────────────────────────────────────────────┤
│  API路由器  │  多市场管理  │  扩展数据  │  数据预处理        │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                    性能优化层 (Performance Layer)             │
├─────────────────────────────────────────────────────────────┤
│  查询优化器  │  并发处理器  │  缓存管理器  │  性能监控        │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                    监控运维层 (Monitoring Layer)              │
├─────────────────────────────────────────────────────────────┤
│  系统监控  │  日志管理  │  健康检查  │  运维工具            │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                    数据存储层 (Data Layer)                    │
├─────────────────────────────────────────────────────────────┤
│  数据库管理  │  数据源管理  │  同步系统  │  配置管理          │
└─────────────────────────────────────────────────────────────┘
```